@{
    ViewBag.Title = "Contact me";
}
<div id="slider">
    <div class="frames">
        <div class="current frame">
            <form method="post" class="contact">
                <section>
                    <header>
                        <h1>
                            Contact me
                        </h1>
                    </header>
                    <p>
                        Use the form below to send me an email.
                    </p>
                    <div class="field">
                        <input id="from" type="email" placeholder="From (enter your email here)" />
                    </div>
                    <div class="field">
                        <input id="subject" type="text" placeholder="Subject (so whatcha want?)" />
                    </div>
                    <div class="field">
                        <textarea id="message" placeholder="Message (don't worry, this box will grow as you type)" rows="1"
                            data-autosize="true" data-autosize-mirror="autosize-message" data-autosize-append-line="true"></textarea>
                    </div>
                    <footer>
                        <a href="#/preview" class="buttonish">Preview &amp; Send</a>
                        <a href="#/cancel" class="buttonish">Cancel</a>
                    </footer>
                </section>
            </form>
        </div>
        <div class="frame">
            <section>
                <header>
                    <h1>
                        This is what you haven't sent me yet.
                    </h1>
                </header>
                <p>
                    Read it over before sending it. Spelling counts.
                </p>
                    <footer>
                        <a href="#/compose" class="buttonish">&lt;&lt; Edit</a>
                        <a href="#/sent" class="buttonish">Send</a>
                    </footer>
            </section>
        </div>
        <div class="frame">
            <section>
                <header>
                    <h1>
                        Your input will be taken under advisement
                    </h1>
                </header>
                <p>
                    Maybe I'll reply, maybe I won't. Wager accordingly.
                </p>
                <footer>
                    <p>
                        If you want to be annoying, <a href="#/">send me another email right now</a>.
                    </p>
                </footer>
            </section>
        </div>
    </div>
</div>
@section scripts
{
    <script type="text/javascript">

        function Slider(options) {
            var self = this;
            options = options || {};
            var defaults = {
                speed: 'fast',
                frameClass: 'frame',
                currentFrameClass: 'current',
                frameWidth: 700
            };

            $.extend(options, defaults);

            var currentFrameSelector = '#slider .' + options.currentFrameClass + '.' + options.frameClass;
            var otherFrameSelector = '.' + options.frameClass;

            self.right = function () {
                var $currentFrame = $(currentFrameSelector),
                    $nextFrame = $currentFrame.next(otherFrameSelector);

                // display the next/right frame since its parent's overflow will obscure it
                $nextFrame.show();

                // reduce the left margin of the left frame to slide the right frame into view
                $currentFrame.animate({ marginLeft: (options.frameWidth * -1) }, options.speed, function () {

                    // after the left frame has slid out of view, hide it
                    $currentFrame.hide()

                        // now that it's hidden, go ahead and put its margin back to zero
                        .css({ marginLeft: 0 })

                        // remove the css class since this is no longer the current frame
                        .toggleClass(options.currentFrameClass);

                    // the left frame is now current
                    $nextFrame.toggleClass(options.currentFrameClass);
                });
            };

            self.left = function () {
                var $currentFrame = $(currentFrameSelector),
                    $prevFrame = $currentFrame.prev(otherFrameSelector);

                // reset the left frame to a negative left margin
                $prevFrame.css({ marginLeft: (options.frameWidth * -1) })

                    // show the left frame, since its parent's overflow will obscure it
                    .show()

                        // increase the left margin of the left frame to slide it into view (pushing right)
                        .animate({ marginLeft: 0 }, options.speed, function () {

                            // after the right frame  is slid out of view, hide it
                            $currentFrame.hide()

                                // remvoe the css class since this is no longer the current frame
                                .toggleClass(options.currentFrameClass);

                            // the right frame is now current
                            $prevFrame.toggleClass(options.currentFrameClass);
                        });
            };
        }

        var slider = new Slider();

        $('a[href="#/preview"]').on('click', function (e) {
            slider.right();
        });
        $('a[href="#/compose"]').on('click', function (e) {
            slider.left();
        });
        $('a[href="#/sent"]').on('click', function (e) {
            slider.right();
        });
        $('a[href="#/"]').on('click', function (e) {
            slider.right(2);
        });
        $('a[href="#/cancel"]').on('click', function (e) {
            history.back();
            return false;
        });
    </script>

}
