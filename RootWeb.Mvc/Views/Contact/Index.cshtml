@{
    ViewBag.Title = "Contact me";
}
<div id="slider">
    <div class="frames">
        <div class="current frame" id="compose">
            <form method="post" class="contact">
                <section>
                    <header>
                        <h1>
                            Contact me
                        </h1>
                    </header>
                    <p>
                        Use the form below to send me an email.
                    </p>
                    <div class="field">
                        <input id="from" type="email" placeholder="From (your email)" data-bind="value: email, validationElement: email" required />
                    </div>
                    <div class="field">
                        <input id="subject" type="text" placeholder="Subject (optional)" data-bind="value: subject" />
                    </div>
                    <div class="field" data-bind="validationOptions: { insertMessages: false, decorateElement: true, errorElementClass: 'error-field' }">
                        <textarea id="message" rows="1" placeholder="Message (what do you want)" data-bind="value: message, valueUpdate: 'afterkeydown'"
                            data-autosize="true"
                            data-autosize-mirror="autosize-message"
                            data-autosize-append-line="true"></textarea>
                        <div id="message_chars" data-bind="css: { invalid: messageCharsOverflowed }">
                            <div data-bind="visible: !messageCharsOverflowed()">
                                <span data-bind="text: messageCharsRemaining">1000</span> <span data-bind="text: messageCharactersPluralizer">characters</span> left
                            </div>
                            <div data-bind="visible: messageCharsOverflowed">
                                You need to remove <span data-bind="text: messageCharsRemaining() * -1"></span>
                                <span data-bind="text: messageCharactersPluralizer">characters</span>
                            </div>
                        </div>
                        <div>
                            <span class="error-message" data-bind="validationMessage: message">Here is my error.</span>
                        </div>
                    </div>
                    <footer>
                        @{
                            var cancelUrl = Request.UrlReferrer != null && Request.Url != null &&
                                            Request.UrlReferrer.AbsolutePath != Request.Url.AbsolutePath
                                                ? Request.UrlReferrer.ToString() : "/";
                        }
                        <a class="blue progress button" data-bind="click: preview">Preview &amp; Send</a>
                        <a class="regress button" href="@cancelUrl">Cancel</a>
                    </footer>
                </section>
            </form>
        </div>
        <div class="frame" id="preview">
            <section>
                <header>
                    <h1>
                        This is what you haven't sent me yet.
                    </h1>
                </header>
                <p>
                    Read it over first. Spelling counts.
                </p>
                <p class="field">
                    <label>From</label>
                    <span class="input"><a data-bind="text: email, attr: { href: 'mailto:' + email() }"></a></span>
                </p>
                <p class="field">
                    <label>Subject</label>
                    <span class="input"><span data-bind="text: subject() || '[none]'"></span></span>
                </p>
                <p class="field">
                    <label>Message</label>
                    <span class="input"><span data-bind="text: message"></span></span>
                </p>
                <div class="field">
                    <label>Proof of humanity</label>
                    <span class="input"><script type="text/javascript" src="http://www.google.com/recaptcha/api/challenge?k=6LePsdYSAAAAAOO58pkkhdwLH-3xWxWcM2-YXSQl"></script></span>
                </div>
                <footer>
                    <a class="blue progress button" data-bind="click: send">Send now</a>
                    <a class="regress button" data-bind="click: compose">Go back and edit</a>
                </footer>
            </section>
        </div>
        <div class="frame" id="sent">
            <section>
                <header>
                    <h1>
                        Your input will be taken under advisement
                    </h1>
                </header>
                <p>
                    Maybe I'll reply, maybe I won't. Wager accordingly.
                </p>
                <footer>
                    <p>
                        If you want to be annoying, <a
                            href="@Url.Action(MVC.Contact.Index())/">send me another email right now</a>.
                    </p>
                </footer>
            </section>
        </div>
    </div>
</div>
@section scripts
{


    <script type="text/javascript" src="~/Models/Contact.js"></script>

}
